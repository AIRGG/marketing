<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Marketing - NET</title>
	{% include "support/cssjs.html" %}
</head>
<body class="navbar-md-md-top">
	{% include "support/navbar.html" %}
	<!-- Page content -->
	<div class="page-content pt-0">
		{% include "support/sidebar.html" %}
		<!-- Main content -->
		<div class="content-wrapper">

			<!-- Content area -->
			<div class="content">
				{% include "support/produk_popup.html" %}

				<!-- Basic card -->
				<div class="card">
					<div class="card-header header-elements-inline">
						<h5 class="card-title">Produk</h5>
						<div class="header-elements">
							<div class="list-icons">
		                		<a class="list-icons-item" data-action="collapse"></a>
		                		<a class="list-icons-item" data-action="reload"></a>
		                		<a class="list-icons-item" data-action="remove"></a>
		                	</div>
	                	</div>
					</div>

					<div class="card-body">
						<div class="row">
							<div class="col-md-3">
								<button id="btnAdd" class="btn btn-primary"><i class="icon-plus3"></i></button>
							</div>
						</div>
						<div class="row mt-2">
							<div class="col-md-12">
								<table class="table table-hover table-bordered">
									<thead class="text-center">
										<th>#</th>
										<th>Kode Produk</th>
										<th>Nama Barang</th>
										<th>Rate</th>
										<th>Kelipatan</th>
										<th>Action</th>
									</thead>
									<tbody>
										<tr>
											<td>1</td>
											<td>PRD001</td>
											<td>PAPI FUND</td>
											<td>50%</td>
											<td>1.000.000</td>
											<td class="text-center">
												<button class="btn btn-outline-warning btn-sm btnEdit" valnya="1" value="qq"><i class="icon-pencil6"></i></button>&nbsp;
												<button class="btn btn-outline-danger btn-sm btnDel" valnya="1"><i class="icon-trash"></i></button>
												&nbsp;
												<button class="btn btn-outline-info btn-sm btnInfo" valnya="1"><i class="icon-info3"></i></button>
											</td>
										</tr>
										<tr>
											<td>2</td>
											<td>PRD002</td>
											<td>PAPI FUND</td>
											<td>70%</td>
											<td>22.000.000</td>
											<td class="text-center">
												<button class="btn btn-outline-warning btn-sm btnEdit" valnya="21" value="qq"><i class="icon-pencil6"></i></button>&nbsp;
												<button class="btn btn-outline-danger btn-sm btnDel" valnya="12"><i class="icon-trash"></i></button>
												&nbsp;
												<button class="btn btn-outline-info btn-sm btnInfo" valnya="1"><i class="icon-info3"></i></button>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
				<!-- /basic card -->

			</div>
			<!-- /content area -->

		</div>
		<!-- /main content -->
	</div>
<script>
	let swalInit = swal.mixin({
		buttonsStyling: false,
		confirmButtonClass: 'btn btn-primary',
		cancelButtonClass: 'btn btn-light'
	});
	let sts = "add"
	$("#btnAdd").on("click", function(){
		$("#modalProduk").modal({backdrop: 'static', keyboard: false}, "show")
		$("#modalTitle").text("Tambah Produk")
	})
	$("#modalProduk").on("hidden.bs.modal", function(){
		sts = "add"
		$("#frmProduk").find("input").val("")
		$("#frmProduk").find("select").val($("select option:first").val())
	})
	$("button.btnInfo").on("click", function(){
		console.log($(this).attr("valnya"))
		$("#modalInfoProduk").modal("show")

		$("input[name='nmProduk']").val("asa")
		$("input[name='rateProduk']").val("ada")
		$("input[name='klptnProduk']").val("aa")
	})
	$("button.btnEdit").on("click", function(){
		sts = "edit"
		console.log($(this).attr("valnya"))
		$("#modalTitle").text("Edit Produk")
		$("#modalProduk").modal({backdrop: 'static', keyboard: false}, "show")

		$("input[name='kdprdk']").val("asa")
		$("input[name='nmprdk']").val("ada")
		$("input[name='rate']").val("aa")
		$("input[name='kelipatan']").val("aab")
	})
	$('button.btnDel').on('click', function() {
		console.log($(this).attr("valnya"))
		swalInit({
			title: 'Are you sure?',
			text: "You won't be able to revert this!",
			type: 'warning',
			showCancelButton: true,
			confirmButtonText: 'Yes, delete it!',
			cancelButtonText: 'No, cancel!',
			confirmButtonClass: 'btn btn-success',
			cancelButtonClass: 'btn btn-danger',
			buttonsStyling: false
		}).then(function(result) {
			if(result.value) {
				swalInit(
					'Deleted!',
					'Your file has been deleted.',
					'success'
					);
			}
			else if(result.dismiss === swal.DismissReason.cancel) {
				swalInit(
					'Cancelled',
					'Your imaginary file is safe :)',
					'error'
					);
			}
		});
	});

	$("#btnSubmit").on("click", function(){
		(sts == "add")? addUser() : editUser()
	})

	function addUser(){
		alert("haii")
	}
	function editUser(){
		alert("haii2")
	}
</script>
</body>
</html>